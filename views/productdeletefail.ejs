<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Access Denied - Admin Required</title>
  <style>
    /* ================ BASE STYLES ================ */
    :root {
      /* Light Theme */
      --light-bg-primary: #f8fafc;
      --light-bg-secondary: #ffffff;
      --light-text-primary: #1e293b;
      --light-text-secondary: #64748b;
      --light-accent: #f59e0b;
      --light-accent-hover: #d97706;
      --light-warning-bg: #fffbeb;
      --light-warning-text: #b45309;
      --light-border: #e2e8f0;
      --light-btn-outline: #3b82f6;
      --light-btn-outline-hover: #f8fafc;
      --light-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      
      /* Dark Theme */
      --dark-bg-primary: #0f172a;
      --dark-bg-secondary: #1e293b;
      --dark-text-primary: #f8fafc;
      --dark-text-secondary: #94a3b8;
      --dark-accent: #f97316;
      --dark-accent-hover: #ea580c;
      --dark-warning-bg: #1e1b4b;
      --dark-warning-text: #a78bfa;
      --dark-border: #334155;
      --dark-btn-outline: #60a5fa;
      --dark-btn-outline-hover: #1e293b;
      --dark-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      
      /* Current Theme (defaults to light) */
      --bg-primary: var(--light-bg-primary);
      --bg-secondary: var(--light-bg-secondary);
      --text-primary: var(--light-text-primary);
      --text-secondary: var(--light-text-secondary);
      --accent: var(--light-accent);
      --accent-hover: var(--light-accent-hover);
      --warning-bg: var(--light-warning-bg);
      --warning-text: var(--light-warning-text);
      --border: var(--light-border);
      --btn-outline: var(--light-btn-outline);
      --btn-outline-hover: var(--light-btn-outline-hover);
      --shadow: var(--light-shadow);
    }

    [data-theme="dark"] {
      --bg-primary: var(--dark-bg-primary);
      --bg-secondary: var(--dark-bg-secondary);
      --text-primary: var(--dark-text-primary);
      --text-secondary: var(--dark-text-secondary);
      --accent: var(--dark-accent);
      --accent-hover: var(--dark-accent-hover);
      --warning-bg: var(--dark-warning-bg);
      --warning-text: var(--dark-warning-text);
      --border: var(--dark-border);
      --btn-outline: var(--dark-btn-outline);
      --btn-outline-hover: var(--dark-btn-outline-hover);
      --shadow: var(--dark-shadow);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: background-color 0.4s cubic-bezier(0.16, 1, 0.3, 1), 
                 color 0.4s cubic-bezier(0.16, 1, 0.3, 1),
                 border-color 0.4s cubic-bezier(0.16, 1, 0.3, 1),
                 box-shadow 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }

    body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* ================ BACKGROUND ELEMENTS ================ */
    .background-wrapper {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }

    .bg-particle {
      position: absolute;
      border-radius: 50%;
      background: rgba(245, 158, 11, 0.08);
      filter: blur(40px);
      z-index: -1;
      animation: float 15s infinite ease-in-out;
    }

    .bg-particle-1 {
      width: 400px;
      height: 400px;
      top: -100px;
      left: -100px;
      animation-delay: 0s;
    }

    .bg-particle-2 {
      width: 300px;
      height: 300px;
      bottom: -50px;
      right: -50px;
      animation-delay: 2s;
      animation-direction: reverse;
    }

    .bg-particle-3 {
      width: 250px;
      height: 250px;
      top: 30%;
      right: 10%;
      animation-delay: 4s;
    }

    .bg-particle-4 {
      width: 350px;
      height: 350px;
      bottom: 20%;
      left: 15%;
      animation-delay: 1s;
    }

    .bg-particle-5 {
      width: 200px;
      height: 200px;
      top: 60%;
      left: 30%;
      animation-delay: 3s;
    }

    .bg-grid {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(var(--border) 1px, transparent 1px),
        linear-gradient(90deg, var(--border) 1px, transparent 1px);
      background-size: 40px 40px;
      opacity: 0.15;
      z-index: -1;
    }

    /* ================ KEYFRAME ANIMATIONS ================ */
    @keyframes float {
      0%, 100% {
        transform: translate(0, 0) rotate(0deg);
      }
      25% {
        transform: translate(20px, 20px) rotate(5deg);
      }
      50% {
        transform: translate(-10px, 15px) rotate(-5deg);
      }
      75% {
        transform: translate(15px, -10px) rotate(3deg);
      }
    }

    @keyframes gradientPulse {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    @keyframes subtleFloat {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-8px);
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.1);
        opacity: 0.9;
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    @keyframes ripple {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      100% {
        transform: scale(4);
        opacity: 0;
      }
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes dash {
      0% {
        stroke-dashoffset: 1000;
      }
      100% {
        stroke-dashoffset: 0;
      }
    }

    /* ================ MAIN CONTENT STYLES ================ */
    .denied-container {
      max-width: 680px;
      margin: 80px auto;
      padding: 50px;
      background: var(--bg-secondary);
      border-radius: 16px;
      box-shadow: var(--shadow);
      text-align: center;
      position: relative;
      overflow: hidden;
      z-index: 1;
      animation: fadeIn 0.8s cubic-bezier(0.23, 1, 0.32, 1) forwards,
                 subtleFloat 8s ease-in-out infinite 1s;
      transform-style: preserve-3d;
      perspective: 1000px;
      border: 1px solid var(--border);
    }

    .denied-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, 
        var(--accent), 
        #f97316, 
        #ef4444, 
        #f97316, 
        var(--accent));
      background-size: 200% 100%;
      animation: gradientPulse 6s linear infinite;
      z-index: 2;
    }

    .denied-container::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 80% 20%, 
        rgba(245, 158, 11, 0.05) 0%, 
        transparent 50%);
      z-index: -1;
      pointer-events: none;
    }

    /* ================ ICON STYLES ================ */
    .denied-icon {
      position: relative;
      width: 120px;
      height: 120px;
      margin: 0 auto 30px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .denied-icon .icon-bg {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: rgba(245, 158, 11, 0.1);
      animation: pulse 3s ease-in-out infinite;
    }

    .denied-icon .icon-main {
      font-size: 72px;
      color: var(--accent);
      position: relative;
      z-index: 2;
      animation: pulse 2.5s ease-in-out infinite 0.5s;
    }

    .denied-icon .ripple {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 2px solid var(--accent);
      animation: ripple 3s cubic-bezier(0, 0.2, 0.8, 1) infinite;
      opacity: 0;
    }

    .denied-icon .ripple:nth-child(3) {
      animation-delay: 1s;
    }

    .denied-icon .ripple:nth-child(4) {
      animation-delay: 2s;
    }

    /* ================ TEXT CONTENT ================ */
    .denied-heading {
      font-size: 32px;
      color: var(--text-primary);
      margin-bottom: 20px;
      font-weight: 700;
      line-height: 1.3;
      position: relative;
      display: inline-block;
    }

    .denied-heading::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 60px;
      height: 3px;
      background: var(--accent);
      border-radius: 3px;
      margin: 0 auto;
      right: 0;
    }

    .denied-subheading {
      font-size: 18px;
      color: var(--accent);
      margin-bottom: 10px;
      font-weight: 600;
    }

    .denied-message {
      color: var(--text-secondary);
      font-size: 17px;
      margin-bottom: 30px;
      line-height: 1.7;
      max-width: 80%;
      margin-left: auto;
      margin-right: auto;
    }

    /* ================ WARNING SECTION ================ */
    .admin-requirements {
      background: var(--warning-bg);
      padding: 25px;
      border-radius: 12px;
      margin: 35px 0;
      text-align: left;
      border-left: 4px solid var(--accent);
      transform: perspective(500px) rotateX(0deg);
      transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), 
                 box-shadow 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    .admin-requirements:hover {
      transform: perspective(500px) rotateX(5deg);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    }

    .requirements-title {
      font-weight: 700;
      color: var(--warning-text);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
    }

    .requirements-title i {
      font-size: 22px;
    }

    .requirements-list {
      padding-left: 25px;
      color: var(--text-secondary);
      list-style-type: none;
    }

    .requirements-list li {
      margin-bottom: 12px;
      position: relative;
      padding-left: 30px;
      font-size: 16px;
      line-height: 1.6;
    }

    .requirements-list li::before {
      content: '';
      position: absolute;
      left: 0;
      top: 8px;
      width: 12px;
      height: 12px;
      background-color: var(--accent);
      border-radius: 50%;
      transform: scale(1);
      transition: transform 0.3s ease;
    }

    .requirements-list li:hover::before {
      transform: scale(1.2);
    }

    /* ================ BUTTON STYLES ================ */
    .action-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 40px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 16px 32px;
      border-radius: 10px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      min-width: 180px;
      font-size: 16px;
      border: none;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transform: translateY(0);
      backface-visibility: hidden;
      will-change: transform;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.2) 0%, 
        rgba(255, 255, 255, 0) 50%, 
        rgba(255, 255, 255, 0.2) 100%);
      transform: translateX(-100%);
      transition: transform 0.6s ease;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
    }

    .btn:active {
      transform: translateY(1px);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .btn:hover::before {
      transform: translateX(100%);
    }

    .btn-warning {
      background-color: var(--accent);
      color: white;
    }

    .btn-warning:hover {
      background-color: var(--accent-hover);
    }

    .btn-outline {
      background-color: transparent;
      color: var(--btn-outline);
      border: 2px solid var(--btn-outline);
    }

    .btn-outline:hover {
      background-color: rgba(59, 130, 246, 0.1);
      border-color: var(--btn-outline);
    }

    /* ================ DECORATIVE ELEMENTS ================ */
    .corner-decoration {
      position: absolute;
      width: 80px;
      height: 80px;
      opacity: 0.1;
      z-index: -1;
    }

    .corner-top-left {
      top: 0;
      left: 0;
      border-top: 3px solid var(--accent);
      border-left: 3px solid var(--accent);
      border-radius: 12px 0 0 0;
    }

    .corner-top-right {
      top: 0;
      right: 0;
      border-top: 3px solid var(--accent);
      border-right: 3px solid var(--accent);
      border-radius: 0 12px 0 0;
    }

    .corner-bottom-left {
      bottom: 0;
      left: 0;
      border-bottom: 3px solid var(--accent);
      border-left: 3px solid var(--accent);
      border-radius: 0 0 0 12px;
    }

    .corner-bottom-right {
      bottom: 0;
      right: 0;
      border-bottom: 3px solid var(--accent);
      border-right: 3px solid var(--accent);
      border-radius: 0 0 12px 0;
    }

    /* ================ SVG DECORATION ================ */
    .svg-decoration {
      position: absolute;
      pointer-events: none;
      z-index: -1;
    }

    .svg-decoration.top-right {
      top: -50px;
      right: -50px;
      width: 200px;
      height: 200px;
      opacity: 0.3;
      animation: spin 30s linear infinite;
    }

    .svg-decoration.bottom-left {
      bottom: -50px;
      left: -50px;
      width: 200px;
      height: 200px;
      opacity: 0.3;
      animation: spin 40s linear infinite reverse;
    }

    /* ================ RESPONSIVE STYLES ================ */
    @media (max-width: 768px) {
      .denied-container {
        margin: 60px 20px;
        padding: 40px 25px;
        animation: fadeIn 0.8s cubic-bezier(0.23, 1, 0.32, 1) forwards;
      }

      .denied-message {
        max-width: 100%;
        font-size: 16px;
      }

      .denied-icon {
        width: 100px;
        height: 100px;
      }

      .denied-icon .icon-main {
        font-size: 60px;
      }

      .denied-heading {
        font-size: 28px;
      }

      .denied-subheading {
        font-size: 16px;
      }

      .admin-requirements {
        padding: 20px;
      }

      .requirements-list li {
        font-size: 15px;
      }

      .action-buttons {
        flex-direction: column;
        gap: 15px;
      }

      .btn {
        width: 100%;
        padding: 14px 24px;
      }

      .bg-particle {
        display: none;
      }

      .svg-decoration {
        display: none;
      }
    }

    @media (max-width: 480px) {
      .denied-container {
        margin: 40px 15px;
        padding: 30px 20px;
      }

      .denied-heading {
        font-size: 24px;
      }

      .denied-message {
        font-size: 15px;
      }

      .denied-icon {
        width: 80px;
        height: 80px;
        margin-bottom: 20px;
      }

      .denied-icon .icon-main {
        font-size: 48px;
      }

      .admin-requirements {
        padding: 18px;
        margin: 25px 0;
      }

      .requirements-title {
        font-size: 16px;
      }

      .requirements-list li {
        font-size: 14px;
        padding-left: 25px;
      }

      .requirements-list li::before {
        width: 10px;
        height: 10px;
        top: 7px;
      }
    }

    /* ================ ACCESSIBILITY ================ */
    @media (prefers-reduced-motion) {
      * {
        animation: none !important;
        transition: none !important;
      }

      .denied-container {
        animation: fadeIn 0.8s cubic-bezier(0.23, 1, 0.32, 1) forwards !important;
      }
    }

    /* ================ PRINT STYLES ================ */
    @media print {
      .denied-container {
        box-shadow: none;
        border: 1px solid #ddd;
        margin: 0;
        padding: 20px;
        page-break-inside: avoid;
      }

      .action-buttons {
        display: none;
      }

      .background-wrapper,
      .svg-decoration,
      .corner-decoration {
        display: none;
      }
    }

    /* ================ CUSTOM SCROLLBAR ================ */
    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg-primary);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--accent);
      border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent-hover);
    }
  </style>
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body>
  <%- include("../utils/header")%> 
  <%- include("side")%>

  <!-- Background Elements -->
  <div class="background-wrapper">
    <div class="bg-grid"></div>
    <div class="bg-particle bg-particle-1"></div>
    <div class="bg-particle bg-particle-2"></div>
    <div class="bg-particle bg-particle-3"></div>
    <div class="bg-particle bg-particle-4"></div>
    <div class="bg-particle bg-particle-5"></div>
  </div>

  <!-- SVG Decorations -->
  <svg class="svg-decoration top-right" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <path d="M20,20 L80,20 L80,80 L20,80 Z" fill="none" stroke="var(--accent)" stroke-width="2" stroke-dasharray="10,5" stroke-dashoffset="0" />
    <path d="M30,30 L70,30 L70,70 L30,70 Z" fill="none" stroke="var(--accent)" stroke-width="2" stroke-dasharray="10,5" stroke-dashoffset="5" />
    <path d="M40,40 L60,40 L60,60 L40,60 Z" fill="none" stroke="var(--accent)" stroke-width="2" stroke-dasharray="10,5" stroke-dashoffset="10" />
  </svg>

  <svg class="svg-decoration bottom-left" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <circle cx="50" cy="50" r="40" fill="none" stroke="var(--accent)" stroke-width="2" stroke-dasharray="15,10" stroke-dashoffset="0" />
    <circle cx="50" cy="50" r="30" fill="none" stroke="var(--accent)" stroke-width="2" stroke-dasharray="15,10" stroke-dashoffset="5" />
    <circle cx="50" cy="50" r="20" fill="none" stroke="var(--accent)" stroke-width="2" stroke-dasharray="15,10" stroke-dashoffset="10" />
  </svg>

  <!-- Access Denied Message -->
  <div class="denied-container">
    <!-- Corner Decorations -->
    <div class="corner-decoration corner-top-left"></div>
    <div class="corner-decoration corner-top-right"></div>
    <div class="corner-decoration corner-bottom-left"></div>
    <div class="corner-decoration corner-bottom-right"></div>

    <!-- Main Content -->
    <div class="denied-icon">
      <div class="icon-bg"></div>
      <i class="bi bi-shield-lock icon-main"></i>
      <div class="ripple"></div>
      <div class="ripple"></div>
      <div class="ripple"></div>
    </div>
    
    <h1 class="denied-heading">Admin Access Required</h1>
    <p class="denied-subheading">Permission Denied</p>
    <p class="denied-message">
      You don't have sufficient permissions to delete products. This action requires administrator-level privileges. 
      Please contact your system administrator if you believe this is an error or if you need elevated access.
    </p>
    
    <div class="admin-requirements">
      <div class="requirements-title">
        <i class="bi bi-exclamation-triangle-fill"></i>
        <span>Administrator Privileges Required</span>
      </div>
      <ul class="requirements-list">
        <li>Only users with the <strong>Admin</strong> or <strong>Super Admin</strong> role can perform product deletions</li>
        <li>Your current role (<strong>User</strong>) doesn't have the required permissions</li>
        <li>This action is logged for security auditing purposes</li>
        <li>Contact your system administrator to request elevated privileges</li>
        <li>Unauthorized access attempts may result in account suspension</li>
      </ul>
    </div>
    
    <div class="action-buttons">
      <a href="/mail-open" class="btn btn-warning animate__animated animate__pulse animate__infinite animate__slower">
        <i class="bi bi-person-gear"></i> Contact Administrator
      </a>
      <a href="/updateproduct" class="btn btn-outline animate__animated animate__fadeIn animate__delay-1s">
        <i class="bi bi-arrow-left"></i> Return to Product Management
      </a>
    </div>
  </div>
<%- include("../utils/footer"); %> 
  
  <script>
    // Enhanced Theme Management
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize theme
      const savedTheme = localStorage.getItem('theme') || 
                        (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', savedTheme);
      
      // Listen for theme changes from header
      document.addEventListener('themeChanged', function(e) {
        document.documentElement.setAttribute('data-theme', e.detail.theme);
        localStorage.setItem('theme', e.detail.theme);
        
        // Add animation class for smooth transition
        document.body.classList.add('theme-transition');
        setTimeout(() => {
          document.body.classList.remove('theme-transition');
        }, 400);
      });
      
      // Add animation on hover for buttons
      const buttons = document.querySelectorAll('.btn');
      buttons.forEach(button => {
        button.addEventListener('mouseenter', function() {
          this.classList.add('animate__animated', 'animate__pulse');
        });
        
        button.addEventListener('mouseleave', function() {
          this.classList.remove('animate__animated', 'animate__pulse');
        });
        
        button.addEventListener('click', function() {
          this.classList.add('animate__animated', 'animate__rubberBand');
          setTimeout(() => {
            this.classList.remove('animate__animated', 'animate__rubberBand');
          }, 1000);
        });
      });
      
      // Add animation for requirements list items
      const requirementItems = document.querySelectorAll('.requirements-list li');
      requirementItems.forEach((item, index) => {
        item.style.opacity = '0';
        item.style.transform = 'translateX(-20px)';
        item.style.transition = `opacity 0.5s ease ${index * 0.1}s, transform 0.5s ease ${index * 0.1}s`;
        
        setTimeout(() => {
          item.style.opacity = '1';
          item.style.transform = 'translateX(0)';
        }, 500 + (index * 100));
      });
      
      // Add scroll animation for container
      const container = document.querySelector('.denied-container');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            container.style.opacity = '1';
            container.style.transform = 'translateY(0) scale(1)';
          }
        });
      }, { threshold: 0.1 });
      
      observer.observe(container);
      
      // Initialize container state
      container.style.opacity = '0';
      container.style.transform = 'translateY(20px) scale(0.95)';
      container.style.transition = 'opacity 0.8s cubic-bezier(0.23, 1, 0.32, 1), transform 0.8s cubic-bezier(0.23, 1, 0.32, 1)';
    });
  </script>
</body>
</html>